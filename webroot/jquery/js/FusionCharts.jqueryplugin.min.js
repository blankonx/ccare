
(function(){var global=FusionCharts(['private','extensions.jQueryPlugin']);if(global===undefined){return;}
var jQ=window.jQuery,renderFusionCharts,captureAllFusionChartsEvents,getChartObjectsFromSelection,configureLinkedCharts;jQ.FusionCharts=global.core;renderFusionCharts=function(elemList,chartOptions){var i,l,cO,chartObj,scriptElement;if(chartOptions instanceof Array||chartOptions instanceof jQ){l=Math.min(elemList.length,chartOptions.length)}else{l=elemList.length;}
for(i=0;i<l;i+=1){if(chartOptions instanceof Array||chartOptions instanceof jQ){cO=chartOptions[i];}else{cO=chartOptions;}
if(elemList[i].parentNode){global.core.render(jQ.extend({},cO,{renderAt:elemList[i]}));}else{chartObj=new FusionCharts(jQ.extend({},cO,{renderAt:elemList[i]}));if(!jQ.FusionCharts.delayedRender){jQ.FusionCharts.delayedRender={};}
jQ.FusionCharts.delayedRender[chartObj.id]=elemList[i];scriptElement=document.createElement("script");scriptElement.setAttribute('type','text/javascript');if(false){scriptElement.text="FusionCharts.items['"+chartObj.id+"'].render();";}else{scriptElement.appendChild(document.createTextNode("FusionCharts.items['"+chartObj.id+"'].render();"));}
elemList[i].appendChild(scriptElement);}}
return elemList;};captureAllFusionChartsEvents=function(event,args){var containerElement;jQ.extend(event,jQ.Event("fusioncharts"+event.eventType));if(event.sender&&event.sender.options&&event.sender.options.containerElementId){containerElement=event.sender.options.containerElementId;if(typeof containerElement==="object"){jQ(containerElement).trigger(event,args);}else if(jQ("#"+containerElement).length){jQ("#"+containerElement).trigger(event,args);}else{jQ(document).trigger(event,args);}}else{jQ(document).trigger(event,args);}};global.addEventListener("*",captureAllFusionChartsEvents);getChartObjectsFromSelection=function(obj){return obj.filter(":FusionCharts").add(obj.find(":FusionCharts"));};configureLinkedCharts=function(chartObjects,linkConfigObj,level){if(typeof linkConfigObj==="object"){chartObjects.each(function(){this.configureLink(linkConfigObj,level);});}};jQ.fn.insertFusionCharts=function(options){return renderFusionCharts(this,options);};jQ.fn.appendFusionCharts=function(options){options.insertMode='append';return renderFusionCharts(this,options);};jQ.fn.prependFusionCharts=function(options){options.insertMode='prepend';return renderFusionCharts(this,options);};jQ.fn.attrFusionCharts=function(attr,attrVal){var transfer=[],chartObjects=getChartObjectsFromSelection(this);if(attrVal!==undefined){chartObjects.each(function(){this.FusionCharts.setChartAttribute(attr,attrVal);});return this;}
if(typeof attr==="object"){chartObjects.each(function(){this.FusionCharts.setChartAttribute(attr);});return this;}
chartObjects.each(function(){transfer.push(this.FusionCharts.getChartAttribute(attr));});return transfer;};jQ.fn.updateFusionCharts=function(options){var i,l,fcChart,renderFlag,optStr,filterOpts={},chartObjects=getChartObjectsFromSelection(this),updateOptions=[["swfUrl",false],["height",false],["width",false],["bgColor",true],["renderer",true],["dataFormat",false],["dataSource",false],["detectFlashVersion",true],["autoInstallRedirect",true],["lang",true],["scaleMode",true],["debugMode",true]];for(i=0,l=updateOptions.length;i<l;i+=1){optStr=updateOptions[i][0];if(options[optStr]){if(updateOptions[i][1]){renderFlag=true;}
filterOpts[optStr]=options[optStr];}}
chartObjects.each(function(){fcChart=this.FusionCharts;if(renderFlag){fcChart.clone(filterOpts).render();return;}
if(filterOpts.dataSource!==undefined||filterOpts.dataFormat!==undefined){if(filterOpts.dataSource===undefined){fcChart.setChartData(fcChart.args.dataSource,filterOpts.dataFormat);}else if(filterOpts.dataFormat===undefined){fcChart.setChartData(filterOpts.dataSource,fcChart.args.dataFormat);}else{fcChart.setChartData(filterOpts.dataSource,filterOpts.dataFormat);}}
if(filterOpts.width!==undefined||filterOpts.height!==undefined){fcChart.resizeTo(filterOpts.width,filterOpts.height);}
if(filterOpts.swfUrl){fcChart.src=filterOpts.swfUrl;fcChart.render();}});return this;};jQ.fn.cloneFusionCharts=function(callback,options){var transfer,temp,chartObjects;if(typeof callback!=='function'&&typeof options==='function'){temp=callback
callback=options;options=temp;}
transfer=[];chartObjects=getChartObjectsFromSelection(this);chartObjects.each(function(){transfer.push(this.FusionCharts.clone(options,{},true));});callback.call(jQ(transfer),transfer);return this;};jQ.fn.convertToFusionCharts=function(chartOpts,convertOpts){var transferObj=[];if(typeof chartOpts.dataConfiguration==="undefined"){chartOpts.dataConfiguration={};}
jQ.extend(true,chartOpts.dataConfiguration,convertOpts);this.each(function(){transferObj.push(jQ("<div></div>").insertBefore(this).insertFusionCharts(chartOpts).get(0));});return jQ(transferObj);};jQ.fn.drillDownFusionChartsTo=function(){var j,len,i,l,configureOpts,chartObjects=getChartObjectsFromSelection(this);if(typeof this._fcDrillDownLevel==="undefined"){this._fcDrillDownLevel=0;}
for(j=0,len=arguments.length;j<len;j+=1){configureOpts=arguments[j];if(configureOpts instanceof Array){for(i=0,l=configureOpts.length;i<l;i+=1){configureLinkedCharts(chartObjects,configureOpts[i],this._fcDrillDownLevel);this._fcDrillDownLevel+=1;}}else{configureLinkedCharts(chartObjects,configureOpts,this._fcDrillDownLevel);this._fcDrillDownLevel+=1;}}
return this;};jQ.extend(jQ.expr[":"],{FusionCharts:function(obj){return(obj.FusionCharts instanceof global.core);}});}());